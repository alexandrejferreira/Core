"use strict";

/*
 * MikoPBX - free phone system for small business
 * Copyright Â© 2017-2023 Alexey Portnov and Nikolay Beketov
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program.
 * If not, see <https://www.gnu.org/licenses/>.
 */

/* global globalRootUrl,globalTranslate, Form, PasswordScore, PbxApi, UserMessage, SoundFilesSelector, $ */
var generalSettingsModify = {
  $dirrtyField: $('#dirrty'),
  $formObj: $('#general-settings-form'),
  $webAdminPassword: $('#WebAdminPassword'),
  $recordsSavePeriodSlider: $('#PBXRecordSavePeriodSlider'),
  saveRecordsPeriod: ['30', '90', '180', '360', '1080', ''],
  $sshPassword: $('#SSHPassword'),
  validateRules: {
    // generalSettingsModify.validateRules.SSHPassword.rules
    pbxname: {
      identifier: 'PBXName',
      rules: [{
        type: 'empty',
        prompt: globalTranslate.gs_ValidateEmptyPBXName
      }]
    },
    WebAdminPassword: {
      identifier: 'WebAdminPassword',
      rules: [{
        type: 'empty',
        prompt: globalTranslate.gs_ValidateEmptyWebPassword
      }, {
        type: 'minLength[5]',
        prompt: globalTranslate.gs_ValidateWeakWebPassword
      }, {
        type: 'notRegExp',
        value: /[a-z]/,
        prompt: '<b>' + globalTranslate.gs_Passwords + '</b>: ' + globalTranslate.gs_PasswordNoLowSimvol
      }, {
        type: 'notRegExp',
        value: /\d/,
        prompt: '<b>' + globalTranslate.gs_Passwords + '</b>: ' + globalTranslate.gs_PasswordNoNumbers
      }, {
        type: 'notRegExp',
        value: /[A-Z]/,
        prompt: '<b>' + globalTranslate.gs_Passwords + '</b>: ' + globalTranslate.gs_PasswordNoUpperSimvol
      }]
    },
    WebAdminPasswordRepeat: {
      identifier: 'WebAdminPasswordRepeat',
      rules: [{
        type: 'match[WebAdminPassword]',
        prompt: globalTranslate.gs_ValidateWebPasswordsFieldDifferent
      }]
    },
    SSHPassword: {
      identifier: 'SSHPassword',
      rules: []
    },
    SSHPasswordRepeat: {
      identifier: 'SSHPasswordRepeat',
      rules: [{
        type: 'match[SSHPassword]',
        prompt: globalTranslate.gs_ValidateSSHPasswordsFieldDifferent
      }]
    },
    WEBPort: {
      identifier: 'WEBPort',
      rules: [{
        type: 'integer[1..65535]',
        prompt: globalTranslate.gs_ValidateWEBPortOutOfRange
      }, {
        type: 'different[WEBHTTPSPort]',
        prompt: globalTranslate.gs_ValidateWEBHTTPSPortNotEqualToWEBPort
      }, {
        type: 'different[AJAMPortTLS]',
        prompt: globalTranslate.gs_ValidateWEBPortNotEqualToAjamPort
      }, {
        type: 'different[AJAMPort]',
        prompt: globalTranslate.gs_ValidateWEBPortNotEqualToAjamTLSPort
      }]
    },
    WEBHTTPSPort: {
      identifier: 'WEBHTTPSPort',
      rules: [{
        type: 'integer[1..65535]',
        prompt: globalTranslate.gs_ValidateWEBHTTPSPortOutOfRange
      }, {
        type: 'different[WEBPort]',
        prompt: globalTranslate.gs_ValidateWEBHTTPSPortNotEqualToWEBPort
      }, {
        type: 'different[AJAMPortTLS]',
        prompt: globalTranslate.gs_ValidateWEBHTTPSPortNotEqualToAjamPort
      }, {
        type: 'different[AJAMPort]',
        prompt: globalTranslate.gs_ValidateWEBHTTPSPortNotEqualToAjamTLSPort
      }]
    },
    AJAMPort: {
      identifier: 'AJAMPort',
      rules: [{
        type: 'integer[1..65535]',
        prompt: globalTranslate.gs_ValidateAJAMPortOutOfRange
      }, {
        type: 'different[AJAMPortTLS]',
        prompt: globalTranslate.gs_ValidateAJAMPortOutOfRange
      }]
    }
  },
  additionalSshValidRulesPass: [{
    type: 'empty',
    prompt: globalTranslate.gs_ValidateEmptySSHPassword
  }, {
    type: 'minLength[5]',
    prompt: globalTranslate.gs_ValidateWeakSSHPassword
  }, {
    type: 'notRegExp',
    value: /[a-z]/,
    prompt: '<b>' + globalTranslate.gs_SSHPassword + '</b>: ' + globalTranslate.gs_PasswordNoLowSimvol
  }, {
    type: 'notRegExp',
    value: /\d/,
    prompt: '<b>' + globalTranslate.gs_SSHPassword + '</b>: ' + globalTranslate.gs_PasswordNoNumbers
  }, {
    type: 'notRegExp',
    value: /[A-Z]/,
    prompt: '<b>' + globalTranslate.gs_SSHPassword + '</b>: ' + globalTranslate.gs_PasswordNoUpperSimvol
  }],
  additionalSshValidRulesNoPass: [{
    type: 'empty',
    prompt: globalTranslate.gs_ValidateEmptySSHPassword
  }, {
    type: 'minLength[5]',
    prompt: globalTranslate.gs_ValidateWeakSSHPassword
  }],
  initialize: function initialize() {
    generalSettingsModify.$webAdminPassword.on('keyup', function () {
      PasswordScore.checkPassStrength({
        pass: generalSettingsModify.$webAdminPassword.val(),
        bar: $('.password-score'),
        section: $('.password-score-section')
      });
    });
    generalSettingsModify.$sshPassword.on('keyup', function () {
      PasswordScore.checkPassStrength({
        pass: generalSettingsModify.$sshPassword.val(),
        bar: $('.ssh-password-score'),
        section: $('.ssh-password-score-section')
      });
    });
    $('#general-settings-menu').find('.item').tab({
      history: true,
      historyType: 'hash'
    });
    $('#general-settings-form .checkbox').checkbox({
      'onChange': generalSettingsModify.initRules
    });
    $('#general-settings-form .dropdown').dropdown();
    $('#audio-codecs-table, #video-codecs-table').tableDnD({
      onDrop: function onDrop() {
        generalSettingsModify.$dirrtyField.val(Math.random());
        generalSettingsModify.$dirrtyField.trigger('change');
      },
      onDragClass: 'hoveringRow',
      dragHandle: '.dragHandle'
    });
    $('#general-settings-form .audio-message-select').dropdown(SoundFilesSelector.getDropdownSettingsWithEmpty()); // PBXRecordSavePeriod

    generalSettingsModify.$recordsSavePeriodSlider.slider({
      min: 0,
      max: 5,
      step: 1,
      smooth: true,
      interpretLabel: function interpretLabel(value) {
        var labels = [globalTranslate.gs_Store1MonthOfRecords, globalTranslate.gs_Store3MonthsOfRecords, globalTranslate.gs_Store6MonthsOfRecords, globalTranslate.gs_Store1YearOfRecords, globalTranslate.gs_Store3YearsOfRecords, globalTranslate.gs_StoreAllPossibleRecords];
        return labels[value];
      },
      onChange: generalSettingsModify.cbAfterSelectSavePeriodSlider
    });
    generalSettingsModify.initializeForm();
    var recordSavePeriod = generalSettingsModify.$formObj.form('get value', 'PBXRecordSavePeriod');
    generalSettingsModify.$recordsSavePeriodSlider.slider('set value', generalSettingsModify.saveRecordsPeriod.indexOf(recordSavePeriod), false);
    $(window).on('GS-ActivateTab', function (event, nameTab) {
      $('#general-settings-menu').find('.item').tab('change tab', nameTab);
    });
  },
  checkDeleteAllConditions: function checkDeleteAllConditions() {
    var deleteAllInput = generalSettingsModify.$formObj.form('get value', 'deleteAllInput');

    if (deleteAllInput === globalTranslate.gs_EnterDeleteAllPhrase) {
      PbxApi.SystemRestoreDefaultSettings(generalSettingsModify.cbAfterRestoreDefaultSettings);
    }
  },
  cbAfterRestoreDefaultSettings: function cbAfterRestoreDefaultSettings(response) {
    if (response === true) {
      UserMessage.showInformation(globalTranslate.gs_AllSettingsDeleted);
    } else {
      UserMessage.showMultiString(response);
    }
  },
  cbAfterSelectSavePeriodSlider: function cbAfterSelectSavePeriodSlider(value) {
    var savePeriod = generalSettingsModify.saveRecordsPeriod[value];
    generalSettingsModify.$formObj.form('set value', 'PBXRecordSavePeriod', savePeriod);
    generalSettingsModify.$dirrtyField.val(Math.random());
    generalSettingsModify.$dirrtyField.trigger('change');
  },
  cbBeforeSendForm: function cbBeforeSendForm(settings) {
    var result = settings;
    result.data = generalSettingsModify.$formObj.form('get values');
    var arrCodecs = [];
    $('#audio-codecs-table .codec-row, #video-codecs-table .codec-row').each(function (index, obj) {
      if ($(obj).attr('id')) {
        arrCodecs.push({
          codecId: $(obj).attr('id'),
          disabled: $(obj).find('.checkbox').checkbox('is unchecked'),
          priority: index
        });
      }
    });
    result.data.codecs = JSON.stringify(arrCodecs);
    return result;
  },
  cbAfterSendForm: function cbAfterSendForm(response) {
    if (!response.success) {
      Form.$submitButton.removeClass('disabled');
    } else {
      $('.password-validate').remove();
    }

    generalSettingsModify.checkDeleteAllConditions();
  },
  initRules: function initRules() {
    if ($('#SSHDisablePasswordLogins').parent().checkbox('is checked')) {
      generalSettingsModify.validateRules.SSHPassword.rules = generalSettingsModify.additionalSshValidRulesNoPass;
    } else {
      generalSettingsModify.validateRules.SSHPassword.rules = generalSettingsModify.additionalSshValidRulesPass;
    }
  },
  initializeForm: function initializeForm() {
    generalSettingsModify.initRules();
    Form.$formObj = generalSettingsModify.$formObj;
    Form.url = "".concat(globalRootUrl, "general-settings/save");
    Form.validateRules = generalSettingsModify.validateRules;
    Form.cbBeforeSendForm = generalSettingsModify.cbBeforeSendForm;
    Form.cbAfterSendForm = generalSettingsModify.cbAfterSendForm;
    Form.initialize();
  }
};
$(document).ready(function () {
  generalSettingsModify.initialize();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9HZW5lcmFsU2V0dGluZ3MvZ2VuZXJhbC1zZXR0aW5ncy1tb2RpZnkuanMiXSwibmFtZXMiOlsiZ2VuZXJhbFNldHRpbmdzTW9kaWZ5IiwiJGRpcnJ0eUZpZWxkIiwiJCIsIiRmb3JtT2JqIiwiJHdlYkFkbWluUGFzc3dvcmQiLCIkcmVjb3Jkc1NhdmVQZXJpb2RTbGlkZXIiLCJzYXZlUmVjb3Jkc1BlcmlvZCIsIiRzc2hQYXNzd29yZCIsInZhbGlkYXRlUnVsZXMiLCJwYnhuYW1lIiwiaWRlbnRpZmllciIsInJ1bGVzIiwidHlwZSIsInByb21wdCIsImdsb2JhbFRyYW5zbGF0ZSIsImdzX1ZhbGlkYXRlRW1wdHlQQlhOYW1lIiwiV2ViQWRtaW5QYXNzd29yZCIsImdzX1ZhbGlkYXRlRW1wdHlXZWJQYXNzd29yZCIsImdzX1ZhbGlkYXRlV2Vha1dlYlBhc3N3b3JkIiwidmFsdWUiLCJnc19QYXNzd29yZHMiLCJnc19QYXNzd29yZE5vTG93U2ltdm9sIiwiZ3NfUGFzc3dvcmROb051bWJlcnMiLCJnc19QYXNzd29yZE5vVXBwZXJTaW12b2wiLCJXZWJBZG1pblBhc3N3b3JkUmVwZWF0IiwiZ3NfVmFsaWRhdGVXZWJQYXNzd29yZHNGaWVsZERpZmZlcmVudCIsIlNTSFBhc3N3b3JkIiwiU1NIUGFzc3dvcmRSZXBlYXQiLCJnc19WYWxpZGF0ZVNTSFBhc3N3b3Jkc0ZpZWxkRGlmZmVyZW50IiwiV0VCUG9ydCIsImdzX1ZhbGlkYXRlV0VCUG9ydE91dE9mUmFuZ2UiLCJnc19WYWxpZGF0ZVdFQkhUVFBTUG9ydE5vdEVxdWFsVG9XRUJQb3J0IiwiZ3NfVmFsaWRhdGVXRUJQb3J0Tm90RXF1YWxUb0FqYW1Qb3J0IiwiZ3NfVmFsaWRhdGVXRUJQb3J0Tm90RXF1YWxUb0FqYW1UTFNQb3J0IiwiV0VCSFRUUFNQb3J0IiwiZ3NfVmFsaWRhdGVXRUJIVFRQU1BvcnRPdXRPZlJhbmdlIiwiZ3NfVmFsaWRhdGVXRUJIVFRQU1BvcnROb3RFcXVhbFRvQWphbVBvcnQiLCJnc19WYWxpZGF0ZVdFQkhUVFBTUG9ydE5vdEVxdWFsVG9BamFtVExTUG9ydCIsIkFKQU1Qb3J0IiwiZ3NfVmFsaWRhdGVBSkFNUG9ydE91dE9mUmFuZ2UiLCJhZGRpdGlvbmFsU3NoVmFsaWRSdWxlc1Bhc3MiLCJnc19WYWxpZGF0ZUVtcHR5U1NIUGFzc3dvcmQiLCJnc19WYWxpZGF0ZVdlYWtTU0hQYXNzd29yZCIsImdzX1NTSFBhc3N3b3JkIiwiYWRkaXRpb25hbFNzaFZhbGlkUnVsZXNOb1Bhc3MiLCJpbml0aWFsaXplIiwib24iLCJQYXNzd29yZFNjb3JlIiwiY2hlY2tQYXNzU3RyZW5ndGgiLCJwYXNzIiwidmFsIiwiYmFyIiwic2VjdGlvbiIsImZpbmQiLCJ0YWIiLCJoaXN0b3J5IiwiaGlzdG9yeVR5cGUiLCJjaGVja2JveCIsImluaXRSdWxlcyIsImRyb3Bkb3duIiwidGFibGVEbkQiLCJvbkRyb3AiLCJNYXRoIiwicmFuZG9tIiwidHJpZ2dlciIsIm9uRHJhZ0NsYXNzIiwiZHJhZ0hhbmRsZSIsIlNvdW5kRmlsZXNTZWxlY3RvciIsImdldERyb3Bkb3duU2V0dGluZ3NXaXRoRW1wdHkiLCJzbGlkZXIiLCJtaW4iLCJtYXgiLCJzdGVwIiwic21vb3RoIiwiaW50ZXJwcmV0TGFiZWwiLCJsYWJlbHMiLCJnc19TdG9yZTFNb250aE9mUmVjb3JkcyIsImdzX1N0b3JlM01vbnRoc09mUmVjb3JkcyIsImdzX1N0b3JlNk1vbnRoc09mUmVjb3JkcyIsImdzX1N0b3JlMVllYXJPZlJlY29yZHMiLCJnc19TdG9yZTNZZWFyc09mUmVjb3JkcyIsImdzX1N0b3JlQWxsUG9zc2libGVSZWNvcmRzIiwib25DaGFuZ2UiLCJjYkFmdGVyU2VsZWN0U2F2ZVBlcmlvZFNsaWRlciIsImluaXRpYWxpemVGb3JtIiwicmVjb3JkU2F2ZVBlcmlvZCIsImZvcm0iLCJpbmRleE9mIiwid2luZG93IiwiZXZlbnQiLCJuYW1lVGFiIiwiY2hlY2tEZWxldGVBbGxDb25kaXRpb25zIiwiZGVsZXRlQWxsSW5wdXQiLCJnc19FbnRlckRlbGV0ZUFsbFBocmFzZSIsIlBieEFwaSIsIlN5c3RlbVJlc3RvcmVEZWZhdWx0U2V0dGluZ3MiLCJjYkFmdGVyUmVzdG9yZURlZmF1bHRTZXR0aW5ncyIsInJlc3BvbnNlIiwiVXNlck1lc3NhZ2UiLCJzaG93SW5mb3JtYXRpb24iLCJnc19BbGxTZXR0aW5nc0RlbGV0ZWQiLCJzaG93TXVsdGlTdHJpbmciLCJzYXZlUGVyaW9kIiwiY2JCZWZvcmVTZW5kRm9ybSIsInNldHRpbmdzIiwicmVzdWx0IiwiZGF0YSIsImFyckNvZGVjcyIsImVhY2giLCJpbmRleCIsIm9iaiIsImF0dHIiLCJwdXNoIiwiY29kZWNJZCIsImRpc2FibGVkIiwicHJpb3JpdHkiLCJjb2RlY3MiLCJKU09OIiwic3RyaW5naWZ5IiwiY2JBZnRlclNlbmRGb3JtIiwic3VjY2VzcyIsIkZvcm0iLCIkc3VibWl0QnV0dG9uIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJwYXJlbnQiLCJ1cmwiLCJnbG9iYWxSb290VXJsIiwiZG9jdW1lbnQiLCJyZWFkeSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBRUEsSUFBTUEscUJBQXFCLEdBQUc7QUFDN0JDLEVBQUFBLFlBQVksRUFBRUMsQ0FBQyxDQUFDLFNBQUQsQ0FEYztBQUU3QkMsRUFBQUEsUUFBUSxFQUFFRCxDQUFDLENBQUMsd0JBQUQsQ0FGa0I7QUFHN0JFLEVBQUFBLGlCQUFpQixFQUFFRixDQUFDLENBQUMsbUJBQUQsQ0FIUztBQUk3QkcsRUFBQUEsd0JBQXdCLEVBQUdILENBQUMsQ0FBQyw0QkFBRCxDQUpDO0FBSzdCSSxFQUFBQSxpQkFBaUIsRUFBQyxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsS0FBYixFQUFvQixLQUFwQixFQUEyQixNQUEzQixFQUFrQyxFQUFsQyxDQUxXO0FBTTdCQyxFQUFBQSxZ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QixHQUF3Q3BFLFFBQXhDLENBQWlELFlBQWpELENBQUgsRUFBa0U7QUFDakV6RCxNQUFBQSxxQkFBcUIsQ0FBQ1EsYUFBdEIsQ0FBb0NrQixXQUFwQyxDQUFnRGYsS0FBaEQsR0FBd0RYLHFCQUFxQixDQUFDNEMsNkJBQTlFO0FBQ0EsS0FGRCxNQUVLO0FBQ0o1QyxNQUFBQSxxQkFBcUIsQ0FBQ1EsYUFBdEIsQ0FBb0NrQixXQUFwQyxDQUFnRGYsS0FBaEQsR0FBd0RYLHFCQUFxQixDQUFDd0MsMkJBQTlFO0FBQ0E7QUFDRCxHQXZSNEI7QUF3UjdCNEMsRUFBQUEsY0F4UjZCLDRCQXdSWjtBQUNoQnBGLElBQUFBLHFCQUFxQixDQUFDMEQsU0FBdEI7QUFDQStELElBQUFBLElBQUksQ0FBQ3RILFFBQUwsR0FBbUJILHFCQUFxQixDQUFDRyxRQUF6QztBQUNBc0gsSUFBQUEsSUFBSSxDQUFDSyxHQUFMLGFBQWtCQyxhQUFsQjtBQUNBTixJQUFBQSxJQUFJLENBQUNqSCxhQUFMLEdBQXVCUixxQkFBcUIsQ0FBQ1EsYUFBN0M7QUFDQWlILElBQUFBLElBQUksQ0FBQ2xCLGdCQUFMLEdBQXlCdkcscUJBQXFCLENBQUN1RyxnQkFBL0M7QUFDQWtCLElBQUFBLElBQUksQ0FBQ0YsZUFBTCxHQUF3QnZILHFCQUFxQixDQUFDdUgsZUFBOUM7QUFDQUUsSUFBQUEsSUFBSSxDQUFDNUUsVUFBTDtBQUNBO0FBaFM0QixDQUE5QjtBQW1TQTNDLENBQUMsQ0FBQzhILFFBQUQsQ0FBRCxDQUFZQyxLQUFaLENBQWtCLFlBQU07QUFDdkJqSSxFQUFBQSxxQkFBcUIsQ0FBQzZDLFVBQXRCO0FBQ0EsQ0FGRCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBNaWtvUEJYIC0gZnJlZSBwaG9uZSBzeXN0ZW0gZm9yIHNtYWxsIGJ1c2luZXNzXG4gKiBDb3B5cmlnaHQgwqkgMjAxNy0yMDIzIEFsZXhleSBQb3J0bm92IGFuZCBOaWtvbGF5IEJla2V0b3ZcbiAqXG4gKiBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uXG4gKiBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cblxuLyogZ2xvYmFsIGdsb2JhbFJvb3RVcmwsZ2xvYmFsVHJhbnNsYXRlLCBGb3JtLCBQYXNzd29yZFNjb3JlLCBQYnhBcGksIFVzZXJNZXNzYWdlLCBTb3VuZEZpbGVzU2VsZWN0b3IsICQgKi9cblxuY29uc3QgZ2VuZXJhbFNldHRpbmdzTW9kaWZ5ID0ge1xuXHQkZGlycnR5RmllbGQ6ICQoJyNkaXJydHknKSxcblx0JGZvcm1PYmo6ICQoJyNnZW5lcmFsLXNldHRpbmdzLWZvcm0nKSxcblx0JHdlYkFkbWluUGFzc3dvcmQ6ICQoJyNXZWJBZG1pblBhc3N3b3JkJyksXG5cdCRyZWNvcmRzU2F2ZVBlcmlvZFNsaWRlcjogICQoJyNQQlhSZWNvcmRTYXZlUGVyaW9kU2xpZGVyJyksXG5cdHNhdmVSZWNvcmRzUGVyaW9kOlsnMzAnLCAnOTAnLCAnMTgwJywgJzM2MCcsICcxMDgwJywnJ10sXG5cdCRzc2hQYXNzd29yZDogJCgnI1NTSFBhc3N3b3JkJyksXG5cdHZhbGlkYXRlUnVsZXM6IHsgLy8gZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LnZhbGlkYXRlUnVsZXMuU1NIUGFzc3dvcmQucnVsZXNcblx0XHRwYnhuYW1lOiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnUEJYTmFtZScsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2VtcHR5Jyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZUVtcHR5UEJYTmFtZSxcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0fSxcblx0XHRXZWJBZG1pblBhc3N3b3JkOiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnV2ViQWRtaW5QYXNzd29yZCcsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2VtcHR5Jyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZUVtcHR5V2ViUGFzc3dvcmQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiAnbWluTGVuZ3RoWzVdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZVdlYWtXZWJQYXNzd29yZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGUgICA6ICdub3RSZWdFeHAnLFxuXHRcdFx0XHRcdHZhbHVlICA6IC9bYS16XS8sXG5cdFx0XHRcdFx0cHJvbXB0IDogJzxiPicgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmRzICsgJzwvYj46ICcgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmROb0xvd1NpbXZvbFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZSAgIDogJ25vdFJlZ0V4cCcsXG5cdFx0XHRcdFx0dmFsdWUgIDogL1xcZC8sXG5cdFx0XHRcdFx0cHJvbXB0IDogJzxiPicgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmRzICsgJzwvYj46ICcgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmROb051bWJlcnNcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGUgICA6ICdub3RSZWdFeHAnLFxuXHRcdFx0XHRcdHZhbHVlICA6IC9bQS1aXS8sXG5cdFx0XHRcdFx0cHJvbXB0IDogJzxiPicgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmRzICsgJzwvYj46ICcgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmROb1VwcGVyU2ltdm9sXG5cdFx0XHRcdH1cblx0XHRcdF0sXG5cdFx0fSxcblx0XHRXZWJBZG1pblBhc3N3b3JkUmVwZWF0OiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnV2ViQWRtaW5QYXNzd29yZFJlcGVhdCcsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ21hdGNoW1dlYkFkbWluUGFzc3dvcmRdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZVdlYlBhc3N3b3Jkc0ZpZWxkRGlmZmVyZW50LFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHR9LFxuXHRcdFNTSFBhc3N3b3JkOiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnU1NIUGFzc3dvcmQnLFxuXHRcdFx0cnVsZXM6IFtdLFxuXHRcdH0sXG5cdFx0U1NIUGFzc3dvcmRSZXBlYXQ6IHtcblx0XHRcdGlkZW50aWZpZXI6ICdTU0hQYXNzd29yZFJlcGVhdCcsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ21hdGNoW1NTSFBhc3N3b3JkXScsXG5cdFx0XHRcdFx0cHJvbXB0OiBnbG9iYWxUcmFuc2xhdGUuZ3NfVmFsaWRhdGVTU0hQYXNzd29yZHNGaWVsZERpZmZlcmVudCxcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0fSxcblx0XHRXRUJQb3J0OiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnV0VCUG9ydCcsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2ludGVnZXJbMS4uNjU1MzVdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZVdFQlBvcnRPdXRPZlJhbmdlLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2RpZmZlcmVudFtXRUJIVFRQU1BvcnRdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZVdFQkhUVFBTUG9ydE5vdEVxdWFsVG9XRUJQb3J0LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2RpZmZlcmVudFtBSkFNUG9ydFRMU10nLFxuXHRcdFx0XHRcdHByb21wdDogZ2xvYmFsVHJhbnNsYXRlLmdzX1ZhbGlkYXRlV0VCUG9ydE5vdEVxdWFsVG9BamFtUG9ydCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6ICdkaWZmZXJlbnRbQUpBTVBvcnRdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZVdFQlBvcnROb3RFcXVhbFRvQWphbVRMU1BvcnQsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdH0sXG5cdFx0V0VCSFRUUFNQb3J0OiB7XG5cdFx0XHRpZGVudGlmaWVyOiAnV0VCSFRUUFNQb3J0Jyxcblx0XHRcdHJ1bGVzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiAnaW50ZWdlclsxLi42NTUzNV0nLFxuXHRcdFx0XHRcdHByb21wdDogZ2xvYmFsVHJhbnNsYXRlLmdzX1ZhbGlkYXRlV0VCSFRUUFNQb3J0T3V0T2ZSYW5nZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6ICdkaWZmZXJlbnRbV0VCUG9ydF0nLFxuXHRcdFx0XHRcdHByb21wdDogZ2xvYmFsVHJhbnNsYXRlLmdzX1ZhbGlkYXRlV0VCSFRUUFNQb3J0Tm90RXF1YWxUb1dFQlBvcnQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiAnZGlmZmVyZW50W0FKQU1Qb3J0VExTXScsXG5cdFx0XHRcdFx0cHJvbXB0OiBnbG9iYWxUcmFuc2xhdGUuZ3NfVmFsaWRhdGVXRUJIVFRQU1BvcnROb3RFcXVhbFRvQWphbVBvcnQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiAnZGlmZmVyZW50W0FKQU1Qb3J0XScsXG5cdFx0XHRcdFx0cHJvbXB0OiBnbG9iYWxUcmFuc2xhdGUuZ3NfVmFsaWRhdGVXRUJIVFRQU1BvcnROb3RFcXVhbFRvQWphbVRMU1BvcnQsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdH0sXG5cdFx0QUpBTVBvcnQ6IHtcblx0XHRcdGlkZW50aWZpZXI6ICdBSkFNUG9ydCcsXG5cdFx0XHRydWxlczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogJ2ludGVnZXJbMS4uNjU1MzVdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZUFKQU1Qb3J0T3V0T2ZSYW5nZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6ICdkaWZmZXJlbnRbQUpBTVBvcnRUTFNdJyxcblx0XHRcdFx0XHRwcm9tcHQ6IGdsb2JhbFRyYW5zbGF0ZS5nc19WYWxpZGF0ZUFKQU1Qb3J0T3V0T2ZSYW5nZSxcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0fSxcblx0fSxcblx0YWRkaXRpb25hbFNzaFZhbGlkUnVsZXNQYXNzOiBbXG5cdFx0e1xuXHRcdFx0dHlwZTogJ2VtcHR5Jyxcblx0XHRcdHByb21wdDogZ2xvYmFsVHJhbnNsYXRlLmdzX1ZhbGlkYXRlRW1wdHlTU0hQYXNzd29yZCxcblx0XHR9LFxuXHRcdHtcblx0XHRcdHR5cGU6ICdtaW5MZW5ndGhbNV0nLFxuXHRcdFx0cHJvbXB0OiBnbG9iYWxUcmFuc2xhdGUuZ3NfVmFsaWRhdGVXZWFrU1NIUGFzc3dvcmQsXG5cdFx0fSxcblx0XHR7XG5cdFx0XHR0eXBlICAgOiAnbm90UmVnRXhwJyxcblx0XHRcdHZhbHVlICA6IC9bYS16XS8sXG5cdFx0XHRwcm9tcHQgOiAnPGI+JyArIGdsb2JhbFRyYW5zbGF0ZS5nc19TU0hQYXNzd29yZCArICc8L2I+OiAnICtnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmROb0xvd1NpbXZvbFxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0dHlwZSAgIDogJ25vdFJlZ0V4cCcsXG5cdFx0XHR2YWx1ZSAgOiAvXFxkLyxcblx0XHRcdHByb21wdCA6ICc8Yj4nICsgZ2xvYmFsVHJhbnNsYXRlLmdzX1NTSFBhc3N3b3JkICsgJzwvYj46ICcgKyBnbG9iYWxUcmFuc2xhdGUuZ3NfUGFzc3dvcmROb051bWJlcnNcblx0XHR9LFxuXHRcdHtcblx0XHRcdHR5cGUgICA6ICdub3RSZWdFeHAnLFxuXHRcdFx0dmFsdWUgIDogL1tBLVpdLyxcblx0XHRcdHByb21wdCA6JzxiPicgKyAgZ2xvYmFsVHJhbnNsYXRlLmdzX1NTSFBhc3N3b3JkICsgJzwvYj46ICcgK2dsb2JhbFRyYW5zbGF0ZS5nc19QYXNzd29yZE5vVXBwZXJTaW12b2xcblx0XHR9XG5cdF0sXG5cdGFkZGl0aW9uYWxTc2hWYWxpZFJ1bGVzTm9QYXNzOiBbXG5cdFx0e1xuXHRcdFx0dHlwZTogJ2VtcHR5Jyxcblx0XHRcdHByb21wdDogZ2xvYmFsVHJhbnNsYXRlLmdzX1ZhbGlkYXRlRW1wdHlTU0hQYXNzd29yZCxcblx0XHR9LFxuXHRcdHtcblx0XHRcdHR5cGU6ICdtaW5MZW5ndGhbNV0nLFxuXHRcdFx0cHJvbXB0OiBnbG9iYWxUcmFuc2xhdGUuZ3NfVmFsaWRhdGVXZWFrU1NIUGFzc3dvcmQsXG5cdFx0fVxuXHRdLFxuXHRpbml0aWFsaXplKCkge1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kd2ViQWRtaW5QYXNzd29yZC5vbigna2V5dXAnLCAoKSA9PiB7XG5cdFx0XHRQYXNzd29yZFNjb3JlLmNoZWNrUGFzc1N0cmVuZ3RoKHtcblx0XHRcdFx0cGFzczogZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LiR3ZWJBZG1pblBhc3N3b3JkLnZhbCgpLFxuXHRcdFx0XHRiYXI6ICQoJy5wYXNzd29yZC1zY29yZScpLFxuXHRcdFx0XHRzZWN0aW9uOiAkKCcucGFzc3dvcmQtc2NvcmUtc2VjdGlvbicpLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0Z2VuZXJhbFNldHRpbmdzTW9kaWZ5LiRzc2hQYXNzd29yZC5vbigna2V5dXAnLCAoKSA9PiB7XG5cdFx0XHRQYXNzd29yZFNjb3JlLmNoZWNrUGFzc1N0cmVuZ3RoKHtcblx0XHRcdFx0cGFzczogZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LiRzc2hQYXNzd29yZC52YWwoKSxcblx0XHRcdFx0YmFyOiAkKCcuc3NoLXBhc3N3b3JkLXNjb3JlJyksXG5cdFx0XHRcdHNlY3Rpb246ICQoJy5zc2gtcGFzc3dvcmQtc2NvcmUtc2VjdGlvbicpLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0JCgnI2dlbmVyYWwtc2V0dGluZ3MtbWVudScpLmZpbmQoJy5pdGVtJykudGFiKHtcblx0XHRcdGhpc3Rvcnk6IHRydWUsXG5cdFx0XHRoaXN0b3J5VHlwZTogJ2hhc2gnLFxuXHRcdH0pO1xuXHRcdCQoJyNnZW5lcmFsLXNldHRpbmdzLWZvcm0gLmNoZWNrYm94JykuY2hlY2tib3goXG5cdFx0XHR7XG5cdFx0XHRcdCdvbkNoYW5nZSc6IGdlbmVyYWxTZXR0aW5nc01vZGlmeS5pbml0UnVsZXNcblx0XHRcdH1cblx0XHQpO1xuXHRcdCQoJyNnZW5lcmFsLXNldHRpbmdzLWZvcm0gLmRyb3Bkb3duJykuZHJvcGRvd24oKTtcblxuXHRcdCQoJyNhdWRpby1jb2RlY3MtdGFibGUsICN2aWRlby1jb2RlY3MtdGFibGUnKS50YWJsZURuRCh7XG5cdFx0XHRvbkRyb3AoKSB7XG5cdFx0XHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZGlycnR5RmllbGQudmFsKE1hdGgucmFuZG9tKCkpO1xuXHRcdFx0XHRnZW5lcmFsU2V0dGluZ3NNb2RpZnkuJGRpcnJ0eUZpZWxkLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdFx0fSxcblx0XHRcdG9uRHJhZ0NsYXNzOiAnaG92ZXJpbmdSb3cnLFxuXHRcdFx0ZHJhZ0hhbmRsZTogJy5kcmFnSGFuZGxlJyxcblx0XHR9KTtcblxuXHRcdCQoJyNnZW5lcmFsLXNldHRpbmdzLWZvcm0gLmF1ZGlvLW1lc3NhZ2Utc2VsZWN0JykuZHJvcGRvd24oU291bmRGaWxlc1NlbGVjdG9yLmdldERyb3Bkb3duU2V0dGluZ3NXaXRoRW1wdHkoKSk7XG5cbiAgICAgICAgLy8gUEJYUmVjb3JkU2F2ZVBlcmlvZFxuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kcmVjb3Jkc1NhdmVQZXJpb2RTbGlkZXJcblx0XHRcdC5zbGlkZXIoe1xuXHRcdFx0XHRtaW46IDAsXG5cdFx0XHRcdG1heDogNSxcblx0XHRcdFx0c3RlcDogMSxcblx0XHRcdFx0c21vb3RoOiB0cnVlLFxuXHRcdFx0XHRpbnRlcnByZXRMYWJlbDogZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdFx0XHRsZXQgbGFiZWxzID0gW1xuXHRcdFx0XHRcdFx0Z2xvYmFsVHJhbnNsYXRlLmdzX1N0b3JlMU1vbnRoT2ZSZWNvcmRzLFxuXHRcdFx0XHRcdFx0Z2xvYmFsVHJhbnNsYXRlLmdzX1N0b3JlM01vbnRoc09mUmVjb3Jkcyxcblx0XHRcdFx0XHRcdGdsb2JhbFRyYW5zbGF0ZS5nc19TdG9yZTZNb250aHNPZlJlY29yZHMsXG5cdFx0XHRcdFx0XHRnbG9iYWxUcmFuc2xhdGUuZ3NfU3RvcmUxWWVhck9mUmVjb3Jkcyxcblx0XHRcdFx0XHRcdGdsb2JhbFRyYW5zbGF0ZS5nc19TdG9yZTNZZWFyc09mUmVjb3Jkcyxcblx0XHRcdFx0XHRcdGdsb2JhbFRyYW5zbGF0ZS5nc19TdG9yZUFsbFBvc3NpYmxlUmVjb3Jkcyxcblx0XHRcdFx0XHRdO1xuXHRcdFx0XHRcdHJldHVybiBsYWJlbHNbdmFsdWVdO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbkNoYW5nZTogZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LmNiQWZ0ZXJTZWxlY3RTYXZlUGVyaW9kU2xpZGVyLFxuXHRcdFx0fSlcblx0XHQ7XG5cblxuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS5pbml0aWFsaXplRm9ybSgpO1xuXG5cdFx0Y29uc3QgcmVjb3JkU2F2ZVBlcmlvZCA9IGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZm9ybU9iai5mb3JtKCdnZXQgdmFsdWUnLCAnUEJYUmVjb3JkU2F2ZVBlcmlvZCcpO1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kcmVjb3Jkc1NhdmVQZXJpb2RTbGlkZXJcblx0XHRcdC5zbGlkZXIoJ3NldCB2YWx1ZScsIGdlbmVyYWxTZXR0aW5nc01vZGlmeS5zYXZlUmVjb3Jkc1BlcmlvZC5pbmRleE9mKHJlY29yZFNhdmVQZXJpb2QpLCBmYWxzZSk7XG5cblx0XHQkKHdpbmRvdykub24oJ0dTLUFjdGl2YXRlVGFiJywgKGV2ZW50LCBuYW1lVGFiKSA9PiB7XG5cdFx0XHQkKCcjZ2VuZXJhbC1zZXR0aW5ncy1tZW51JykuZmluZCgnLml0ZW0nKS50YWIoJ2NoYW5nZSB0YWInLCBuYW1lVGFiKTtcblx0XHR9KTtcblx0fSxcblx0Y2hlY2tEZWxldGVBbGxDb25kaXRpb25zKCl7XG5cdFx0Y29uc3QgZGVsZXRlQWxsSW5wdXQgPSBnZW5lcmFsU2V0dGluZ3NNb2RpZnkuJGZvcm1PYmouZm9ybSgnZ2V0IHZhbHVlJywgJ2RlbGV0ZUFsbElucHV0Jyk7XG5cdFx0aWYgKGRlbGV0ZUFsbElucHV0ID09PSBnbG9iYWxUcmFuc2xhdGUuZ3NfRW50ZXJEZWxldGVBbGxQaHJhc2Upe1xuXHRcdFx0UGJ4QXBpLlN5c3RlbVJlc3RvcmVEZWZhdWx0U2V0dGluZ3MoZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LmNiQWZ0ZXJSZXN0b3JlRGVmYXVsdFNldHRpbmdzKTtcblx0XHR9XG5cblx0fSxcblx0Y2JBZnRlclJlc3RvcmVEZWZhdWx0U2V0dGluZ3MocmVzcG9uc2Upe1xuXHRcdGlmIChyZXNwb25zZT09PXRydWUpe1xuXHRcdFx0VXNlck1lc3NhZ2Uuc2hvd0luZm9ybWF0aW9uKGdsb2JhbFRyYW5zbGF0ZS5nc19BbGxTZXR0aW5nc0RlbGV0ZWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRVc2VyTWVzc2FnZS5zaG93TXVsdGlTdHJpbmcocmVzcG9uc2UpO1xuXHRcdH1cblx0fSxcblx0Y2JBZnRlclNlbGVjdFNhdmVQZXJpb2RTbGlkZXIodmFsdWUpe1xuXHRcdGNvbnN0IHNhdmVQZXJpb2QgPSBnZW5lcmFsU2V0dGluZ3NNb2RpZnkuc2F2ZVJlY29yZHNQZXJpb2RbdmFsdWVdO1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZm9ybU9iai5mb3JtKCdzZXQgdmFsdWUnLCAnUEJYUmVjb3JkU2F2ZVBlcmlvZCcsIHNhdmVQZXJpb2QpO1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZGlycnR5RmllbGQudmFsKE1hdGgucmFuZG9tKCkpO1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZGlycnR5RmllbGQudHJpZ2dlcignY2hhbmdlJyk7XG5cdH0sXG5cdGNiQmVmb3JlU2VuZEZvcm0oc2V0dGluZ3MpIHtcblx0XHRjb25zdCByZXN1bHQgPSBzZXR0aW5ncztcblx0XHRyZXN1bHQuZGF0YSA9IGdlbmVyYWxTZXR0aW5nc01vZGlmeS4kZm9ybU9iai5mb3JtKCdnZXQgdmFsdWVzJyk7XG5cdFx0Y29uc3QgYXJyQ29kZWNzID0gW107XG5cdFx0JCgnI2F1ZGlvLWNvZGVjcy10YWJsZSAuY29kZWMtcm93LCAjdmlkZW8tY29kZWNzLXRhYmxlIC5jb2RlYy1yb3cnKS5lYWNoKChpbmRleCwgb2JqKSA9PiB7XG5cdFx0XHRpZiAoJChvYmopLmF0dHIoJ2lkJykpIHtcblx0XHRcdFx0YXJyQ29kZWNzLnB1c2goe1xuXHRcdFx0XHRcdGNvZGVjSWQ6ICQob2JqKS5hdHRyKCdpZCcpLFxuXHRcdFx0XHRcdGRpc2FibGVkOiAkKG9iaikuZmluZCgnLmNoZWNrYm94JykuY2hlY2tib3goJ2lzIHVuY2hlY2tlZCcpLFxuXHRcdFx0XHRcdHByaW9yaXR5OiBpbmRleCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmVzdWx0LmRhdGEuY29kZWNzID0gSlNPTi5zdHJpbmdpZnkoYXJyQ29kZWNzKTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cdGNiQWZ0ZXJTZW5kRm9ybShyZXNwb25zZSkge1xuXHRcdGlmKCFyZXNwb25zZS5zdWNjZXNzKXtcblx0XHRcdEZvcm0uJHN1Ym1pdEJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblx0XHR9ZWxzZXtcblx0XHRcdCQoJy5wYXNzd29yZC12YWxpZGF0ZScpLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRnZW5lcmFsU2V0dGluZ3NNb2RpZnkuY2hlY2tEZWxldGVBbGxDb25kaXRpb25zKCk7XG5cdH0sXG5cdGluaXRSdWxlcygpIHtcblx0XHRpZigkKCcjU1NIRGlzYWJsZVBhc3N3b3JkTG9naW5zJykucGFyZW50KCkuY2hlY2tib3goJ2lzIGNoZWNrZWQnKSl7XG5cdFx0XHRnZW5lcmFsU2V0dGluZ3NNb2RpZnkudmFsaWRhdGVSdWxlcy5TU0hQYXNzd29yZC5ydWxlcyA9IGdlbmVyYWxTZXR0aW5nc01vZGlmeS5hZGRpdGlvbmFsU3NoVmFsaWRSdWxlc05vUGFzcztcblx0XHR9ZWxzZXtcblx0XHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS52YWxpZGF0ZVJ1bGVzLlNTSFBhc3N3b3JkLnJ1bGVzID0gZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LmFkZGl0aW9uYWxTc2hWYWxpZFJ1bGVzUGFzcztcblx0XHR9XG5cdH0sXG5cdGluaXRpYWxpemVGb3JtKCkge1xuXHRcdGdlbmVyYWxTZXR0aW5nc01vZGlmeS5pbml0UnVsZXMoKTtcblx0XHRGb3JtLiRmb3JtT2JqIFx0XHRcdD0gZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LiRmb3JtT2JqO1xuXHRcdEZvcm0udXJsIFx0XHRcdFx0PSBgJHtnbG9iYWxSb290VXJsfWdlbmVyYWwtc2V0dGluZ3Mvc2F2ZWA7XG5cdFx0Rm9ybS52YWxpZGF0ZVJ1bGVzIFx0XHQ9IGdlbmVyYWxTZXR0aW5nc01vZGlmeS52YWxpZGF0ZVJ1bGVzO1xuXHRcdEZvcm0uY2JCZWZvcmVTZW5kRm9ybSBcdD0gZ2VuZXJhbFNldHRpbmdzTW9kaWZ5LmNiQmVmb3JlU2VuZEZvcm07XG5cdFx0Rm9ybS5jYkFmdGVyU2VuZEZvcm0gXHQ9IGdlbmVyYWxTZXR0aW5nc01vZGlmeS5jYkFmdGVyU2VuZEZvcm07XG5cdFx0Rm9ybS5pbml0aWFsaXplKCk7XG5cdH1cbn07XG5cbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcblx0Z2VuZXJhbFNldHRpbmdzTW9kaWZ5LmluaXRpYWxpemUoKTtcbn0pOyJdfQ==